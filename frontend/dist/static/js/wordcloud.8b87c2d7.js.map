{"version":3,"file":"js/wordcloud.8b87c2d7.js","mappings":"iLAqJOA,MAAM,sB,GACTC,EAAAA,EAAAA,IAAY,UAAR,OAAG,G,GACFC,GAAG,kB,GAEDA,GAAG,Y,GAGFD,EAAAA,EAAAA,IAEM,OAFDD,MAAM,cAAY,EACrBC,EAAAA,EAAAA,IAAuC,KAApCD,MAAM,8BAAyB,G,GAKrCE,GAAG,kB,2IAbZC,EAAAA,EAAAA,IAoBM,MApBNC,EAoBM,CAnBJC,GACAJ,EAAAA,EAAAA,IAiBM,MAjBNK,EAiBM,EAhBJC,EAAAA,EAAAA,IAAuFC,EAAA,CAA7EC,KAAK,WAAYC,KAAM,GAAIC,YAAY,QAxJvDC,WAwJwEC,EAAAC,SAxJxE,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAwJwEH,EAAAC,SAAQE,I,wBAC1Ef,EAAAA,EAAAA,IAQM,MARNgB,EAQM,EAPJV,EAAAA,EAAAA,IAMWW,EAAA,CANAC,IAAKN,EAAAO,cAAgBC,IAAKR,EAAAQ,K,CACxBC,OAAKC,EAAAA,EAAAA,KACd,IAEM,CAFNC,KA5JZC,EAAA,G,oBAkKMxB,EAAAA,EAAAA,IAKM,MALNyB,EAKM,EAJJnB,EAAAA,EAAAA,IAGSoB,EAAA,MAtKjBC,SAAAL,EAAAA,EAAAA,KAoKU,IAAkE,EAAlEhB,EAAAA,EAAAA,IAAkEsB,EAAA,CAAvDpB,KAAK,UAAWqB,QAAOjB,EAAAkB,SAAUC,MAAA,I,CApKtDJ,SAAAL,EAAAA,EAAAA,KAoK4D,IAAI,EApKhEU,EAAAA,EAAAA,IAoK4D,WApK5DR,EAAA,G,eAqKoEZ,EAAAqB,MAAG,WAA7DC,EAAAA,EAAAA,IAA+EN,EAAA,CArKzFO,IAAA,EAqKqB3B,KAAK,UAAWqB,QAAOjB,EAAAwB,WAAYL,MAAA,I,CArKxDJ,SAAAL,EAAAA,EAAAA,KAqKyE,IAAI,EArK7EU,EAAAA,EAAAA,IAqKyE,WArKzER,EAAA,G,iBAAAa,EAAAA,EAAAA,IAAA,UAAAb,EAAA,S,uBAgLA,GAAec,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,qBACNC,KAAAA,GACE,MAAM3B,GAAW4B,EAAAA,EAAAA,IAAI,IACfR,GAAMQ,EAAAA,EAAAA,IAAI,IAGVrB,EAAM,OAEZsB,eAAeZ,IACb,MAAMa,EAAQ,CACZC,KAAM/B,EAASgC,OAEjB,IACE,MAAMC,QAAYC,EAAAA,EAAMC,KAAK,uBAAwBL,GACrDV,EAAIY,MAAS,yBAAwBC,EAAIG,MAC3C,CAAE,MAAO5B,GACP6B,QAAQC,IAAI9B,EAAM+B,UAAUH,KAC9B,CACF,CAEA,SAASb,IAEP,MAAMiB,EAASpB,EAAIY,MACbS,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAOJ,EACTC,EAAEI,aAAa,WAAY,kBAC3BH,SAASI,KAAKC,YAAYN,GAC1BA,EAAEO,QACFN,SAASI,KAAKG,YAAYR,EAC5B,CAGA,SAASnC,IAEP,OAAOc,EAAIY,MAAQZ,EAAIY,MAAQ,EACjC,CAEA,MAAO,CACLhC,WACAoB,MACAb,MACAU,WACAM,aACAjB,cAEJ,I,SCzNF,MAAM4C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://frontend/./src/views/WordCloud.vue","webpack://frontend/./src/views/WordCloud.vue?3422"],"sourcesContent":["/* eslint-disable */\n<!-- <template>\n    <div class=\"WordCloud\">\n        <h2>小词云</h2>\n        <div id=\"word-text-area\">\n            <el-input type=\"textarea\" :rows=\"10\" placeholder=\"请输入内容\" v-model=\"textarea\">\n            </el-input>\n            <div id=\"word-img\">\n                <el-image :src=\"getImageSrc()\" :fit=\"fit\">\n                    <template #error>\n                        <div class=\"image-slot\">\n                            <i class=\"el-icon-picture-outline\"></i>\n                        </div>\n                    </template>\n                </el-image>\n            </div>\n            <div id=\"word-operation\">\n                <el-row>\n                    <el-button type=\"primary\" @click=\"onSubmit\" round>生成词云</el-button>\n                    <el-button type=\"success\" @click=\"onDownload\" round>下载图片</el-button>\n                </el-row>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'WordCloudComponent',\n  data () {\n    return {\n      textarea: '',\n      pic: '',\n      pageTitle: 'Flask Vue Word Cloud'\n    }\n  },\n  methods: {\n    onSubmit () {\n      const param = {\n        word: this.textarea\n      }\n      this.axios.post('/word/cloud/generate', param).then(\n        res => {\n          this.pic = res.data\n          console.log(res.data)\n        }\n      ).catch(res => {\n        console.log(res.data.res)\n      })\n    },\n    onDownload () {\n      const imgUrl = 'data:image/png;base64,' + this.pic\n      const a = document.createElement('a')\n      a.href = imgUrl\n      a.setAttribute('download', 'word-cloud')\n      a.click()\n    },\n    // 添加getImageSrc方法\n    getImageSrc () {\n      if (this.pic) {\n        return `data:image/png;base64,${this.pic}`\n      } else {\n        return '' // 或者返回默认的占位图地址\n      }\n    }\n  }\n}\n</script> -->\n\n<!-- <template>\n    <div class=\"WordCloudComponent\">\n        <h2>小词云</h2>\n        <div id=\"word-text-area\">\n            <el-input type=\"textarea\" :rows=\"10\" placeholder=\"请输入内容\" v-model=\"textarea\"></el-input>\n            <div id=\"word-img\">\n                <el-image :src=\"getImageSrc()\" :fit=\"fit\">\n                    <template #error>\n                        <div class=\"image-slot\">\n                            <i class=\"el-icon-picture-outline\"></i>\n                        </div>\n                    </template>\n                </el-image>\n            </div>\n            <div id=\"word-operation\">\n                <el-row>\n                    <el-button type=\"primary\" @click=\"onSubmit\" round>生成词云</el-button>\n                    <el-button type=\"success\" @click=\"onDownload\" round v-if=\"pic\">下载图片</el-button>\n                </el-row>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport axios from 'axios'\n\nexport default defineComponent({\n  name: 'WordCloudComponent',\n  setup () {\n    const textarea = ref('')\n    const pic = ref('')\n    const fit = 'fill' // 或者选择其他适合的图片适应方式\n\n    async function onSubmit () {\n      const param = {\n        word: textarea.value\n      }\n      try {\n        const res = await axios.post('/word/cloud/generate', param)\n        pic.value = `data:image/png;base64,${res.data}`\n      } catch (error) {\n        console.log(error.response?.data)\n      }\n    }\n\n    function onDownload () {\n      const imgUrl = `data:image/png;base64,${pic.value}`\n      const a = document.createElement('a')\n      a.href = imgUrl\n      a.setAttribute('download', 'word-cloud.png')\n      document.body.appendChild(a) // 确保a标签存在于DOM中以触发点击事件\n      a.click()\n      document.body.removeChild(a) // 事件触发后移除a标签\n    }\n\n    function getImageSrc () {\n      return pic.value ? `data:image/png;base64,${pic.value}` : ''\n    }\n\n    return {\n      textarea,\n      pic,\n      fit,\n      onSubmit,\n      onDownload,\n      getImageSrc\n    }\n  }\n})\n</script> -->\n\n<!-- <template>\n    <div class=\"about\">\n        <h1>This is an about page</h1>\n    </div>\n</template> -->\n\n<template>\n  <div class=\"WordCloudComponent\">\n    <h2>小词云</h2>\n    <div id=\"word-text-area\">\n      <el-input type=\"textarea\" :rows=\"10\" placeholder=\"请输入内容\" v-model=\"textarea\"></el-input>\n      <div id=\"word-img\">\n        <el-image :src=\"getImageSrc()\" :fit=\"fit\">\n          <template #error>\n            <div class=\"image-slot\">\n              <i class=\"el-icon-picture-outline\"></i>\n            </div>\n          </template>\n        </el-image>\n      </div>\n      <div id=\"word-operation\">\n        <el-row>\n          <el-button type=\"primary\" @click=\"onSubmit\" round>生成词云</el-button>\n          <el-button type=\"success\" @click=\"onDownload\" round v-if=\"pic\">下载图片</el-button>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport axios from 'axios'\n\nexport default defineComponent({\n  name: 'WordCloudComponent',\n  setup () {\n    const textarea = ref('')\n    const pic = ref('')\n\n    // 图片适应方式\n    const fit = 'fill'\n\n    async function onSubmit () {\n      const param = {\n        word: textarea.value\n      }\n      try {\n        const res = await axios.post('/word/cloud/generate', param)\n        pic.value = `data:image/png;base64,${res.data}`\n      } catch (error) {\n        console.log(error.response?.data)\n      }\n    }\n\n    function onDownload () {\n      // const imgUrl = `data:image/png;base64,${pic.value}`\n      const imgUrl = pic.value\n      const a = document.createElement('a')\n      a.href = imgUrl\n      a.setAttribute('download', 'word-cloud.png')\n      document.body.appendChild(a) // 确保a标签存在于DOM中以触发点击事件\n      a.click()\n      document.body.removeChild(a) // 事件触发后移除a标签\n    }\n\n    // 添加getImageSrc方法\n    function getImageSrc () {\n      // return pic.value ? `data:image/png;base64,${pic.value}` : ''\n      return pic.value ? pic.value : ''\n    }\n\n    return {\n      textarea,\n      pic,\n      fit,\n      onSubmit,\n      onDownload,\n      getImageSrc\n    }\n  }\n})\n</script>\n","import { render } from \"./WordCloud.vue?vue&type=template&id=1e15f992\"\nimport script from \"./WordCloud.vue?vue&type=script&lang=js\"\nexport * from \"./WordCloud.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_el_input","type","rows","placeholder","modelValue","_ctx","textarea","_cache","$event","_hoisted_4","_component_el_image","src","getImageSrc","fit","error","_withCtx","_hoisted_5","_","_hoisted_6","_component_el_row","default","_component_el_button","onClick","onSubmit","round","_createTextVNode","pic","_createBlock","key","onDownload","_createCommentVNode","defineComponent","name","setup","ref","async","param","word","value","res","axios","post","data","console","log","response","imgUrl","a","document","createElement","href","setAttribute","body","appendChild","click","removeChild","__exports__","render"],"sourceRoot":""}